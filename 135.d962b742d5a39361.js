"use strict";(self.webpackChunkairways_rs_team=self.webpackChunkairways_rs_team||[]).push([[135],{9135:(xe,q,c)=>{c.r(q),c.d(q,{BookingRoutingModule:()=>ue});var _=c(6582),L=c(8904),w=c(8349),p=c(9653);const v=(0,p.ZF)("selectedFlight"),U=(0,p.P1)(v,n=>n);(0,p.P1)(v,n=>n.direct),(0,p.P1)(v,n=>n.reverse),(0,p.P1)(v,n=>n.flightType);var h=c(2513),t=c(4650),O=c(1441),l=c(6895),P=c(7392),M=c(4859),D=c(6594);let N=(()=>{class n{constructor(e,i){this.element=e,this.renderer=i}ngDoCheck(){this.renderer.setStyle(this.element.nativeElement,"background-color",this.getColor())}getColor(){if(this.appSeats){const{total:e}=this.appSeats,i=this.appSeats.avaible;return i/e*100<10?"rgba(255, 0, 0, 0.3)":e/2<i?"rgba(0, 128, 0, 0.3)":"rgba(241, 201, 51, 0.3)"}return"white"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj))},n.\u0275dir=t.lG2({type:n,selectors:[["","appSeats",""]],inputs:{appSeats:"appSeats"}}),n})();var Z=c(9056),$=c(1135);let H=(()=>{class n{constructor(){this.flightInfo$=new $.X(void 0)}getFlightInfo$(){return this.flightInfo$.asObservable()}setFlightInfo(e){this.flight=e,this.flightInfo$.next(this.flight)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function R(n,s){1&n&&t._UZ(0,"div",21)}function G(n,s){if(1&n&&(t.TgZ(0,"div",22)(1,"div",23),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4,"available"),t.qZA()()),2&n){const e=t.oxw().ngIf;t.Q6J("appSeats",e.seats),t.xp6(2),t.hij("",e.seats.avaible," seats")}}function K(n,s){1&n&&(t.TgZ(0,"div",24),t._uU(1,"Price"),t.qZA())}function V(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",25)(1,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().ngIf,r=t.oxw();return t.KtG(r.selectFlight(o))}),t._uU(2,"Select"),t.qZA()()}}function X(n,s){if(1&n&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"div",7),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"div",8),t._uU(10),t.qZA()(),t.TgZ(11,"div",9)(12,"div"),t._uU(13),t.qZA(),t.TgZ(14,"div",10),t._UZ(15,"div",11),t.qZA(),t.TgZ(16,"div"),t._uU(17,"Direct"),t.qZA()(),t.TgZ(18,"div",12)(19,"div",6),t._uU(20),t.ALo(21,"date"),t.qZA(),t.TgZ(22,"div",7),t._uU(23),t.ALo(24,"date"),t.qZA(),t.TgZ(25,"div",8),t._uU(26),t.qZA()(),t.TgZ(27,"div",13),t._uU(28),t.qZA()(),t.YNc(29,R,1,0,"div",14),t.TgZ(30,"div",15)(31,"div",16),t.YNc(32,G,5,2,"div",17),t.YNc(33,K,2,0,"div",18),t._UZ(34,"div",19),t.qZA(),t.YNc(35,V,3,0,"div",20),t.qZA()()),2&n){const e=s.ngIf,i=t.oxw(),o=t.MAs(4);t.xp6(4),t.Oqu(t.xi3(5,14,e.takeoffDate,"EE, d MMM yyyy")),t.xp6(3),t.Oqu(t.xi3(8,17,e.takeoffDate,"HH:mm")),t.xp6(3),t.Oqu(i.from.city),t.xp6(3),t.Oqu(i.getDuration(e.takeoffDate,e.landingDate)),t.xp6(7),t.Oqu(t.xi3(21,20,e.landingDate,"EE, d MMM yyyy")),t.xp6(3),t.Oqu(t.xi3(24,23,e.landingDate,"HH:mm")),t.xp6(3),t.Oqu(i.destination.city),t.xp6(2),t.hij("Flight no. ",e.flightNumber,""),t.xp6(1),t.Q6J("ngIf",!i.isSelected),t.xp6(3),t.Q6J("ngIf",!i.isSelected),t.xp6(1),t.Q6J("ngIf",!i.isSelected),t.xp6(1),t.Q6J("appCurrency",e.price),t.xp6(1),t.Q6J("ngIf",!i.isSelected)("ngIfElse",o)}}function W(n,s){1&n&&(t.TgZ(0,"div",3)(1,"div",27),t._UZ(2,"div",28),t.TgZ(3,"span"),t._uU(4,"No flights available"),t.qZA()()())}function tt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",25)(1,"button",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.selectFlight(void 0))}),t._uU(2,"Edit"),t.qZA()()}}let et=(()=>{class n{constructor(e){this.flightService=e,this.selectEvent=new t.vpe,this.isSelected=!1}ngOnInit(){this.flight$=this.flightService.getFlightInfo$()}getDuration(e,i){const o=new Date(i).getTime()-new Date(e).getTime(),r=Math.floor(o/36e5);return`${r}h ${(o-3600*r*1e3)/6e4}min`}selectFlight(e){this.selectEvent.emit(e),this.isSelected=!this.isSelected}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-flight-info"]],inputs:{isForward:"isForward",from:"from",destination:"destination",flightData:"flightData"},outputs:{selectEvent:"selectEvent"},decls:5,vars:2,consts:[["class","flight-info",4,"ngIf","ngIfElse"],["flightNotFound",""],["editBtn",""],[1,"flight-info"],[1,"flight-info__time"],[1,"start-time"],[1,"date"],[1,"time"],[1,"location"],[1,"direction"],[1,"icon-block"],[1,"airplane"],[1,"end-time"],[1,"number"],["class","divider",4,"ngIf"],[1,"flight-info__price"],[1,"price-block"],["class","seats",3,"appSeats",4,"ngIf"],["class","price-title",4,"ngIf"],[1,"price",3,"appCurrency"],["class","submit-block",4,"ngIf","ngIfElse"],[1,"divider"],[1,"seats",3,"appSeats"],[1,"seats-number"],[1,"price-title"],[1,"submit-block"],[1,"select-btn",3,"click"],[1,"flight-not-block"],[1,"flight-img"],[1,"edit-btn",3,"click"]],template:function(e,i){if(1&e&&(t.YNc(0,X,36,26,"div",0),t.YNc(1,W,5,0,"ng-template",null,1,t.W1O),t.YNc(3,tt,3,0,"ng-template",null,2,t.W1O)),2&e){const o=t.MAs(2);t.Q6J("ngIf",i.flightData)("ngIfElse",o)}},dependencies:[l.O5,N,Z.S,l.uU],styles:[".flight-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;height:auto;min-height:130px;background-color:#fff;border-radius:5px;box-shadow:0 1px 4px #0003}.flight-info__time[_ngcontent-%COMP%]{display:flex;flex-direction:row;column-gap:10px;justify-content:space-between;width:70%;padding:27px}@media screen and (width <= 999px){.flight-info__time[_ngcontent-%COMP%]{width:50%}}@media screen and (width <= 380px){.flight-info__time[_ngcontent-%COMP%]{padding:7px}}.flight-info__price[_ngcontent-%COMP%]{display:flex;flex-direction:row;column-gap:30px;align-items:center;justify-content:center;width:30%;padding:15px 0 15px 27px;text-align:end}@media screen and (width <= 999px){.flight-info__price[_ngcontent-%COMP%]{width:50%}}@media screen and (width <= 799px){.flight-info__price[_ngcontent-%COMP%]{flex-direction:column;padding:0}}.right-block[_ngcontent-%COMP%]{width:30%}.end-time[_ngcontent-%COMP%]{text-align:right}.start-time[_ngcontent-%COMP%], .direction[_ngcontent-%COMP%], .end-time[_ngcontent-%COMP%]{align-self:center;width:100%}.start-time[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .direction[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .end-time[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:gray;font-size:16px;font-weight:400;line-height:16px;letter-spacing:.5px}@media screen and (width <= 448px){.start-time[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .direction[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .end-time[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:12px}}.start-time[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%], .direction[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%], .end-time[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{color:gray;font-size:12px;font-weight:400;line-height:12px;letter-spacing:.4px}.start-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%], .direction[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%], .end-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{margin:4px 0;font-size:30px;font-weight:700;line-height:36px}@media screen and (width <= 554px){.start-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%], .direction[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%], .end-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:20px}}.number[_ngcontent-%COMP%]{width:70%;display:flex;align-items:center}@media screen and (width <= 799px){.number[_ngcontent-%COMP%]{width:auto}}@media screen and (width <= 449px){.number[_ngcontent-%COMP%]{display:none}}.direction[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:280px;font-size:12px;font-weight:400;text-align:center}@media screen and (width <= 409px){.direction[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(1){display:none}}@media screen and (width <= 409px){.direction[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3){display:none}}@media screen and (width <= 999px){.direction[_ngcontent-%COMP%]{width:auto;max-width:unset}}@media screen and (width <= 799px){.direction[_ngcontent-%COMP%]{width:auto;max-width:unset}}.icon-block[_ngcontent-%COMP%]{position:relative;width:100%;min-width:5px;height:2px;margin:20px 0 15px;background-color:gray}.icon-block[_ngcontent-%COMP%]   .airplane[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-70%);width:40px;height:24px;background-color:#fff;background-image:url(airplane_takeoff.b42b6836bcf33afc.svg);background-repeat:no-repeat;background-position:center}@media screen and (width <= 409px){.icon-block[_ngcontent-%COMP%]   .airplane[_ngcontent-%COMP%]{display:none}}.divider[_ngcontent-%COMP%]{width:2px;border-left:2px dashed #d0d9df}.select-btn[_ngcontent-%COMP%]{cursor:pointer;width:78px;height:36px;color:#fff;background:linear-gradient(108.75deg,#0090bd 59.91%,#073590 95.36%);border:none;border-radius:4px}.edit-btn[_ngcontent-%COMP%]{cursor:pointer;width:44px;height:28px;font-size:16px;font-weight:500;line-height:20px;color:#11397e;background:#f4f6f9;border:none;border-radius:4px}.price-block[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;row-gap:1px}@media screen and (max-width: 799px){.price-block[_ngcontent-%COMP%]{align-items:center}}.price-block[_ngcontent-%COMP%]   .seats[_ngcontent-%COMP%]{padding:5px;color:gray;border-radius:2px}.price-block[_ngcontent-%COMP%]   .price-title[_ngcontent-%COMP%]{margin-top:5px;font-size:12px;font-weight:400;line-height:16px;color:gray}.price-block[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:var(--app-root-blue);font-size:30px;font-weight:700;line-height:36px}@media screen and (width <= 448px){.price-block[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:20px}}@media screen and (width <= 799px){.price-block[_ngcontent-%COMP%]{align-items:center}}.submit-block[_ngcontent-%COMP%]{width:100%;text-align:center}.flight-not-block[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;column-gap:20px;align-items:center;justify-content:center}@media screen and (width <= 410px){.flight-not-block[_ngcontent-%COMP%]{font-size:25px}}.flight-img[_ngcontent-%COMP%]{width:45px;height:45px;background-image:url(flight-blocked.b48dc81385b61ccd.svg);background-repeat:no-repeat;background-position:center;background-size:cover}"]}),n})();function nt(n,s){if(1&n&&(t.TgZ(0,"div",9)(1,"div",10),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"div",11),t._uU(5),t.ALo(6,"date"),t.qZA(),t._UZ(7,"div",12)(8,"div",13),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.xi3(3,4,e.date,"d MMM")),t.xp6(3),t.Oqu(t.xi3(6,7,e.date,"EEEE")),t.xp6(2),t.Q6J("appCurrency",e.flight.price),t.xp6(1),t.Q6J("appSeats",e.flight.seats)}}function it(n,s){if(1&n&&(t.TgZ(0,"div",9)(1,"div",14),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"div",15),t._uU(5),t.ALo(6,"date"),t.qZA(),t._UZ(7,"div",16),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.xi3(3,2,e.date,"d MMM")),t.xp6(3),t.Oqu(t.xi3(6,5,e.date,"EEEE"))}}function ot(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",6),t.NdJ("click",function(){const r=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.slideClick(r))}),t.YNc(1,nt,9,10,"div",7),t.YNc(2,it,8,8,"ng-template",null,8,t.W1O),t.qZA()}if(2&n){const e=s.$implicit,i=t.MAs(3),o=t.oxw(2);t.Q6J("ngClass",o.isCurrentDate(e)?"active":""),t.xp6(1),t.Q6J("ngIf",e.flight)("ngIfElse",i)}}const st=function(){return{slidesToShow:4,slidesToScroll:1,infinite:!1}},rt=function(n){return{breakpoint:1080,settings:n}},at=function(){return{slidesToShow:3,slidesToScroll:1,infinite:!1}},ct=function(n){return{breakpoint:921,settings:n}},lt=function(){return{slidesToShow:2,slidesToScroll:1,infinite:!1}},pt=function(n){return{breakpoint:621,settings:n}},dt=function(){return{slidesToShow:1,slidesToScroll:1,infinite:!1}},gt=function(n){return{breakpoint:431,settings:n}},mt=function(n,s,e,i){return[n,s,e,i]},ft=function(n){return{infinite:!1,slidesToShow:5,slidesToScroll:1,initialSlide:3,responsive:n}};function _t(n,s){if(1&n&&(t.TgZ(0,"div",2)(1,"ngx-slick-carousel",3,4),t.YNc(3,ot,4,3,"div",5),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("config",t.VKq(19,ft,t.l5B(14,mt,t.VKq(3,rt,t.DdM(2,st)),t.VKq(6,ct,t.DdM(5,at)),t.VKq(9,pt,t.DdM(8,lt)),t.VKq(12,gt,t.DdM(11,dt))))),t.xp6(2),t.Q6J("ngForOf",e.dates)}}let ut=(()=>{class n{constructor(e){this.store=e,this.dates=[],this.isSelected=!1}isCurrentDate(e){return new Date(e.date).getDate()===new Date(this.startDate).getDate()&&(this.flightData=e.flight,!0)}ngOnInit(){this.flight$=this.store.select(w.YA),this.flight$.subscribe(e=>{this.isForward?(this.flightData=e.from,this.from=this.flightData?.form,this.destination=this.flightData?.to,this.startDate=e.startDate,this.flights=this.flightData?.otherFlights):(this.flightData=e.destination,this.from=this.flightData?.form,this.destination=this.flightData?.to,this.startDate=e.endDate,this.flights=this.flightData?.otherFlights),this.dates=this.initDateArray(e,this.startDate)})}slideClick(e){this.startDate=new Date(e.date).toISOString(),this.flightData=e.flight}initDateArray(e,i){const o=[];if(null!==i){const r=new Date(i);let d=new Date(r);if(void 0!==this.flights)for(let y=-5;y<=5;y+=1){let F;if(d=new Date(d.setDate(r.getDate()+y)),0!==y)F={date:d.toISOString(),flight:this.flights[y]};else{const he=this.isForward?e.from:e.destination;F={date:d.toISOString(),flight:he}}o.push(F)}}return o}editFlight(){this.isSelected=!this.isSelected}selectFlight(e){this.store.dispatch(void 0!==e?this.isForward?h.JO({flight:e}):h.Ou({flight:e}):this.isForward?h.JO({flight:null}):h.Ou({flight:null})),this.isSelected=!this.isSelected}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-calendar"]],inputs:{isForward:"isForward"},decls:2,vars:4,consts:[["class","calendar",4,"ngIf"],[3,"flightData","from","destination","selectEvent"],[1,"calendar"],[1,"carousel",3,"config"],["slickModal","slick-carousel"],["ngxSlickItem","","class","slide",3,"ngClass","click",4,"ngFor","ngForOf"],["ngxSlickItem","",1,"slide",3,"ngClass","click"],["class","date-slide",4,"ngIf","ngIfElse"],["flightNotFound",""],[1,"date-slide"],[1,"date"],[1,"day"],[1,"price",3,"appCurrency"],[1,"slide-footer",3,"appSeats"],[1,"date-blocked"],[1,"day-blocked"],[1,"price-blocked"]],template:function(e,i){1&e&&(t.YNc(0,_t,4,21,"div",0),t.TgZ(1,"app-flight-info",1),t.NdJ("selectEvent",function(r){return i.selectFlight(r)}),t.qZA()),2&e&&(t.Q6J("ngIf",!i.isSelected),t.xp6(1),t.Q6J("flightData",i.flightData)("from",i.from)("destination",i.destination))},dependencies:[l.mk,l.sg,l.O5,D.vE,D.Xg,N,Z.S,et,l.uU],styles:[".calendar[_ngcontent-%COMP%]{min-height:84px;margin-bottom:9px}.calendar[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .date-blocked[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:20px;color:#0090bd}.calendar[_ngcontent-%COMP%]   .day-blocked[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .date-blocked[_ngcontent-%COMP%]{color:gray}@media screen and (width <= 460px){.calendar[_ngcontent-%COMP%]   .day-blocked[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .date-blocked[_ngcontent-%COMP%]{font-size:12px}}.calendar[_ngcontent-%COMP%]   .price-blocked[_ngcontent-%COMP%]{width:18px;height:18px;background-image:url(flight-blocked.b48dc81385b61ccd.svg);background-repeat:no-repeat;background-position:center;background-size:cover}.calendar[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:20px;font-weight:700;line-height:20px;color:#11397e}.carousel[_ngcontent-%COMP%]{vertical-align:bottom}.slick-slider[_ngcontent-%COMP%]{width:100%;height:83px;margin:auto;background:transparent}.slick-slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{cursor:pointer;height:70px;margin:0 1px;padding:2px;background-color:#fff;box-shadow:0 0 1px #0003}.slick-slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]   .date-slide[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.slick-slider[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{position:relative;height:83px}.slick-slider[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:var(--app-root-blue);font-size:20px;font-weight:700;line-height:20px}@media screen and (width <= 599px){.slick-slider[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:16px}}@media screen and (width <= 360px){.slick-slider[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:12px}}.slick-slider[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .slide-footer[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;height:4px;border-bottom-right-radius:10px;border-bottom-left-radius:10px}@media screen and (width <= 599px){.slick-slider[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{font-size:10px}}.slick-slider[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:30px;font-weight:700;line-height:25px;color:#11397e}@media screen and (width <= 599px){.slick-slider[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:20px}}@media screen and (width <= 379px){.slick-slider[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:16px}}"]}),n})();function ht(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",4)(2,"mat-icon",8),t._uU(3,"airplanemode_active"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"div",6),t._UZ(6,"app-calendar",7),t.qZA()()),2&n){const e=t.oxw().ngIf;t.xp6(4),t.AsE(" ",e.destination.form.city," to ",e.destination.to.city," "),t.xp6(2),t.Q6J("isForward",!1)}}function xt(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",4)(2,"mat-icon",5),t._uU(3,"airplanemode_active"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"div",6),t._UZ(6,"app-calendar",7),t.qZA(),t.YNc(7,ht,7,3,"div",0),t.qZA()),2&n){const e=s.ngIf,i=t.oxw();t.xp6(4),t.AsE(" ",e.from.form.city," to ",e.from.to.city," "),t.xp6(2),t.Q6J("isForward",!0),t.xp6(1),t.Q6J("ngIf",i.isRoundTrip())}}let bt=(()=>{class n{constructor(e,i,o){this.store=e,this.router=i,this.stepperSwitcher=o,this.isRound=!0}ngOnInit(){this.stepperSwitcher.switchStepper("first"),this.flights$=this.store.select(w.YA),this.selected$=this.store.select(U),this.subscription=this.flights$.subscribe(e=>{e.flightType===L.z.ONE_WAY&&(this.isRound=!1)}),this.selectSubscription=this.selected$.subscribe(e=>{this.selected=e})}ngOnDestroy(){this.subscription.unsubscribe(),this.selectSubscription.unsubscribe()}isRoundTrip(){return this.isRound}isSelected(){return this.isRoundTrip()?Boolean(this.selected.direct&&this.selected.reverse):Boolean(this.selected.direct)}back(e){e?(this.router.navigateByUrl("/"),this.store.dispatch(h.YF())):this.router.navigateByUrl("step/2")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.yh),t.Y36(_.F0),t.Y36(O.M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-first-step"]],decls:7,vars:4,consts:[[4,"ngIf"],[1,"btn-block"],["mat-flat-button","",1,"back-btn",3,"click"],["mat-button","","type","button",3,"disabled","click"],[1,"title"],[1,"forward"],[1,"ticket-block"],[3,"isForward"],[1,"return"]],template:function(e,i){1&e&&(t.YNc(0,xt,8,4,"div",0),t.ALo(1,"async"),t.TgZ(2,"div",1)(3,"button",2),t.NdJ("click",function(){return i.back(!0)}),t._uU(4,"Back"),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return i.back(!1)}),t._uU(6,"Continue"),t.qZA()()),2&e&&(t.Q6J("ngIf",t.lcZ(1,2,i.flights$)),t.xp6(5),t.Q6J("disabled",!i.isSelected()))},dependencies:[l.O5,P.Hw,M.lW,ut,l.Ov],styles:[".wrap[_ngcontent-%COMP%]{padding:0 135px 30px}.title[_ngcontent-%COMP%]{display:flex;flex-direction:row;column-gap:10px;align-items:center;margin-bottom:8px;font-size:24px;font-weight:700;line-height:28px;color:var(--app-root-blue)}.ticket-block[_ngcontent-%COMP%]{flex:1 0 auto;height:auto;margin-bottom:24px}.forward[_ngcontent-%COMP%]{rotate:90deg}.return[_ngcontent-%COMP%]{rotate:-90deg}.btns-block[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:right}.btn-block[_ngcontent-%COMP%]{display:flex;flex-direction:row;column-gap:40px;justify-content:flex-end;margin-bottom:40px}.mdc-button[_ngcontent-%COMP%]{width:126px;height:60px;font-size:16px;font-weight:500;color:#fff;background-color:var(--app-root-blue)}.mdc-button[_ngcontent-%COMP%]:disabled{color:gray;background-color:#e5e5e5;filter:drop-shadow(2px 0 4px #e5e5e5)}.mat-mdc-unelevated-button[_ngcontent-%COMP%]:not(:disabled){color:var(--app-root-blue);background-color:transparent}"]}),n})();var m=c(7340),E=c(7579);let J=(()=>{class n{constructor(){this.observe=new E.x,this.buttonObserver=new E.x,this.emit=this.observe.asObservable(),this.button=this.buttonObserver.asObservable()}showEditor(){return this.observe.next()}showButtonEditor(e){this.buttonObserver.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ct=c(8671),x=c(9891);function yt(n,s){if(1&n&&(t.TgZ(0,"span",15),t._uU(1),t.qZA()),2&n){const e=s.ngIf;t.xp6(1),t.Oqu(e.total)}}function wt(n,s){if(1&n&&(t.TgZ(0,"div",4)(1,"div",5)(2,"span",6),t._uU(3),t.qZA(),t._UZ(4,"img",7),t.TgZ(5,"span",8),t._uU(6),t.qZA()(),t.TgZ(7,"div",9)(8,"span",10),t._uU(9,"Return"),t.qZA(),t._UZ(10,"div",11),t.TgZ(11,"span",12),t._uU(12),t.ALo(13,"date"),t.ALo(14,"date"),t.qZA(),t._UZ(15,"div",11),t.YNc(16,yt,2,1,"span",13),t.ALo(17,"async"),t._UZ(18,"img",14),t.qZA()()),2&n){const e=s.ngIf,i=t.oxw();t.xp6(3),t.Oqu(e.from.form.city),t.xp6(3),t.Oqu(e.from.to.city),t.xp6(6),t.AsE("",t.xi3(13,5,e.startDate,"d LLL")," - ",t.xi3(14,8,e.endDate,"d LLL"),""),t.xp6(4),t.Q6J("ngIf",t.lcZ(17,11,i.passengers$))}}function vt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showBookingEditor())}),t.TgZ(1,"span",17),t._uU(2,"Edit"),t.qZA()()}}let Ot=(()=>{class n{constructor(e,i,o){this.store=e,this.emit=i,this.detectorChange=o,this.detectorChange.detach()}ngOnInit(){this.flights$=this.store.select(w.YA),this.passengers$=this.store.select(x.k),this.buttonObserver=this.emit.button.subscribe(e=>{this.isButton=e,this.detectorChange.detectChanges()})}showBookingEditor(){this.emit.showEditor()}ngOnDestroy(){this.buttonObserver.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.yh),t.Y36(J),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-booking-edit"]],decls:5,vars:4,consts:[[1,"booking-wrap"],[1,"main__booking-edit"],["class","main__booking-information",4,"ngIf"],["class","main__open-edit",3,"click",4,"ngIf"],[1,"main__booking-information"],[1,"main__direction-wrapper"],[1,"main__from-direction"],["src","./assets/airplanes.svg","alt","",1,"main__direction-icon"],[1,"main__to-direction"],[1,"main__info-wrapper"],[1,"main__info-text"],[1,"main__point-separator"],[1,"main__dates-flight"],["class","main__passenger-count",4,"ngIf"],["src","./assets/people.svg","alt","",1,"main__passenger-icon"],[1,"main__passenger-count"],[1,"main__open-edit",3,"click"],[1,"main__open-text"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,wt,19,13,"div",2),t.ALo(3,"async"),t.YNc(4,vt,3,0,"button",3),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,2,i.flights$)),t.xp6(2),t.Q6J("ngIf",i.isButton))},dependencies:[l.O5,l.Ov,l.uU],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;height:68px;background:#fafafa;box-shadow:0 1px 4px #0003}.booking-wrap[_ngcontent-%COMP%]{width:100%;max-width:1128px}@media screen and (width <= 1150px){.booking-wrap[_ngcontent-%COMP%]{box-sizing:content-box;padding:0 10px}}@media screen and (width <= 469px){.booking-wrap[_ngcontent-%COMP%]{width:92%;padding:0}}.main__booking-edit[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:63px}@media screen and (width <= 579px){.main__booking-edit[_ngcontent-%COMP%]{gap:unset;justify-content:space-between}}@media screen and (width <= 430px){.main__booking-edit[_ngcontent-%COMP%]{gap:5px}}@media screen and (width <= 385px){.main__booking-edit[_ngcontent-%COMP%]{align-items:center;justify-content:space-around}}.main__booking-information[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:40px;justify-content:flex-start}@media screen and (width <= 519px){.main__booking-information[_ngcontent-%COMP%]{gap:10px}}@media screen and (width <= 445px){.main__booking-information[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}.main__direction-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px;justify-content:flex-start}.main__from-direction[_ngcontent-%COMP%], .main__to-direction[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;font-weight:500;font-style:normal;line-height:24px;color:#000;letter-spacing:.15px}.main__direction-icon[_ngcontent-%COMP%]{width:24px;height:24px}.main__info-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:8px;align-items:center;justify-content:flex-start}.main__dates-flight[_ngcontent-%COMP%]{display:block;min-width:57px}.main__info-text[_ngcontent-%COMP%], .main__dates-flight[_ngcontent-%COMP%], .main__passenger-count[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:14px;font-weight:500;font-style:normal;line-height:20px;color:#74767a;letter-spacing:.1px}.main__point-separator[_ngcontent-%COMP%]{flex:0 0 auto;width:4px;height:4px;background:#0090bd;border-radius:2px}.main__passenger-icon[_ngcontent-%COMP%]{width:16px;height:16px}.main__open-edit[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;width:44px;height:28px;padding:4px 8px;background:#f4f6f9;border:none;border-radius:4px}.main__open-text[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;font-weight:500;font-style:normal;line-height:20px;color:#11397e;letter-spacing:.1px}"]}),n})();var a=c(4006),Y=c(3400),Q=c(1084),g=c(9549),f=c(9602),b=c(9652);const T=function(n){return{color:n}};function Pt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"form",2)(1,"div",3)(2,"label",4),t._uU(3,"From"),t.qZA(),t.TgZ(4,"div",5),t._UZ(5,"input",6),t.TgZ(6,"span",7),t._uU(7),t.qZA()()(),t.TgZ(8,"div",3)(9,"label",8),t._uU(10,"Destination"),t.qZA(),t.TgZ(11,"div",5),t._UZ(12,"input",9),t.TgZ(13,"span",7),t._uU(14),t.qZA()()(),t.TgZ(15,"div",10)(16,"mat-form-field",11)(17,"mat-label"),t._uU(18,"Dates"),t.qZA(),t.TgZ(19,"mat-date-range-input",12),t._UZ(20,"input",13)(21,"input",14),t.qZA(),t._UZ(22,"mat-datepicker-toggle",15)(23,"mat-date-range-picker",null,16),t.qZA()(),t.TgZ(25,"mat-accordion",17)(26,"mat-expansion-panel")(27,"mat-expansion-panel-header")(28,"mat-panel-title"),t._uU(29," Passenger "),t.qZA(),t.TgZ(30,"mat-panel-description"),t._uU(31),t.qZA()(),t.TgZ(32,"div",18)(33,"div",19)(34,"div",20)(35,"span",21),t._uU(36,"Adult"),t.qZA(),t.TgZ(37,"span",22),t._uU(38,"+14 years"),t.qZA()(),t.TgZ(39,"div",23)(40,"span",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.adultCounter(!1))}),t._uU(41,"-"),t.qZA(),t.TgZ(42,"span",25),t._uU(43),t.qZA(),t.TgZ(44,"span",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.adultCounter(!0))}),t._uU(45,"+"),t.qZA()()()(),t.TgZ(46,"div",18)(47,"div",19)(48,"div",20)(49,"span",21),t._uU(50,"Child"),t.qZA(),t.TgZ(51,"span",22),t._uU(52,"2-14 years"),t.qZA()(),t.TgZ(53,"div",23)(54,"span",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.childCounter(!1))}),t._uU(55,"-"),t.qZA(),t.TgZ(56,"span",25),t._uU(57),t.qZA(),t.TgZ(58,"span",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.childCounter(!0))}),t._uU(59,"+"),t.qZA()()()(),t.TgZ(60,"div",18)(61,"div",19)(62,"div",20)(63,"span",21),t._uU(64,"Infant"),t.qZA(),t.TgZ(65,"span",22),t._uU(66,"0-2 years"),t.qZA()(),t.TgZ(67,"div",23)(68,"span",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.infantsCounter(!1))}),t._uU(69,"-"),t.qZA(),t.TgZ(70,"span",25),t._uU(71),t.qZA(),t.TgZ(72,"span",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.infantsCounter(!0))}),t._uU(73,"+"),t.qZA()()()()()()()}if(2&n){const e=s.ngIf,i=t.MAs(24),o=t.oxw();t.xp6(5),t.Q6J("value",e.from.form.country),t.xp6(2),t.Oqu(e.from.form.key),t.xp6(5),t.Q6J("value",e.from.to.country),t.xp6(2),t.Oqu(e.from.to.key),t.xp6(5),t.Q6J("formGroup",o.formDate)("rangePicker",i),t.xp6(1),t.Q6J("value",e.startDate),t.xp6(1),t.Q6J("value",e.endDate),t.xp6(1),t.Q6J("for",i),t.xp6(9),t.hij(" ",o.passengerList," "),t.xp6(4),t.Q6J("ngStyle",t.VKq(16,T,o.adult?"#11397E":"#1C1B1F")),t.xp6(8),t.Oqu(o.adult),t.xp6(6),t.Q6J("ngStyle",t.VKq(18,T,o.child?"#11397E":"#1C1B1F")),t.xp6(8),t.Oqu(o.child),t.xp6(6),t.Q6J("ngStyle",t.VKq(20,T,o.infant?"#11397E":"#1C1B1F")),t.xp6(8),t.Oqu(o.infant)}}let Mt=(()=>{class n{constructor(e){this.store=e}ngOnInit(){this.flights$=this.store.select(w.YA),this.passengers$=this.store.select(x.k),this.flightSubscription=this.flights$.subscribe(e=>{this.formDate=new a.cw({start:new a.NI(e.startDate),end:new a.NI(e.endDate)})}),this.passengerSubscription=this.passengers$.subscribe(e=>{this.passengers=e,this.adult=e.passengers.adult.count,this.child=e.passengers.child.count,this.infant=e.passengers.infant.count}),this.generatePassengerList(),this.format$=this.store.select(Q.Ox),this.subscription=this.format$.subscribe(e=>{Y.l.display.dateInput=e,this.updateDate()})}ngOnDestroy(){this.flightSubscription.unsubscribe(),this.passengerSubscription.unsubscribe(),this.subscription.unsubscribe()}updateDate(){const e=this.formDate.get("start")?.value,i=this.formDate.get("end")?.value;null!==e&&this.formDate.get("start").setValue(new Date(e)),null!==i&&this.formDate.get("end").setValue(new Date(i))}adultCounter(e){e&&void 0!==this.adult?this.adult+=1:this.adult=this.adult?this.adult-1:this.adult,this.generatePassengerList()}childCounter(e){e&&void 0!==this.child?this.child+=1:this.child=this.child?this.child-1:this.child,this.generatePassengerList()}infantsCounter(e){e&&void 0!==this.infant?this.infant+=1:this.infant=this.infant?this.infant-1:this.infant,this.generatePassengerList()}generatePassengerList(){this.passengerList="",this.adult&&(this.passengerList=`${this.adult} Adult`),this.child&&(this.passengerList=this.adult?`${this.passengerList} ,${this.child} Child`:`${this.child} Child`),this.infant&&(this.passengerList=this.passengerList.length?`${this.passengerList} ,${this.infant} Infants`:`${this.infant} Infants`)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-booking-editor"]],decls:3,vars:3,consts:[[1,"editor"],["class","main__booking-editor",4,"ngIf"],[1,"main__booking-editor"],[1,"main__input-wrapper"],["for","from",1,"main__input-label"],[1,"main__input-container"],["id","from","type","text",1,"main__editor-input",3,"value"],[1,"main__input-code"],["for","to",1,"main__input-label"],["id","to","type","text",1,"main__editor-input",3,"value"],[1,"main__daypicker-wrapper"],["appearance","fill"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date",3,"value"],["matEndDate","","formControlName","end","placeholder","End date",3,"value"],["matIconSuffix","",3,"for"],["picker",""],[1,"main__passenger-editor"],[1,"main__passenger-edit"],[1,"main__passenger-option"],[1,"main__passenger-label"],[1,"main__passenger-kind",3,"ngStyle"],[1,"main__passenger-clue"],[1,"main__passenger-counter"],[1,"main__passenger-minus",3,"click"],[1,"main__passenger-count"],[1,"main__passenger-plus",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Pt,74,22,"form",1),t.ALo(2,"async"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,i.flights$)))},dependencies:[l.O5,l.PC,a._Y,a.Fj,a.JJ,a.JL,a.F,a.sg,a.u,g.KE,g.hX,g.R9,f.nW,f.wx,f.zY,f.By,f._g,b.pp,b.ib,b.yz,b.yK,b.u4,l.Ov],styles:[":host{display:flex;flex-direction:row;justify-content:center;height:96px;min-height:96px}.editor{position:absolute;z-index:1000;width:100%;max-width:1128px;margin-top:5px;background-color:#fff}.main__booking-editor{display:flex;flex-direction:row;justify-content:space-between;box-sizing:content-box;padding:20px;border-radius:2px;box-shadow:0 1px 4px #0003}@media screen and (width <= 1079px){.main__booking-editor{flex-wrap:wrap;gap:10px;align-items:center;justify-content:center}}.main__input-wrapper{display:flex;flex-direction:column;justify-content:flex-start;box-sizing:border-box;max-width:255px;height:56px;padding:8px 16px;background:#f4f6f9;border:1px solid gainsboro;border-radius:4px}.main__input-label{font-family:Roboto,sans-serif;font-size:12px;font-weight:400;font-style:normal;line-height:16px;color:#49454f;letter-spacing:.4px}.main__input-container{display:flex;flex-direction:row;gap:8px;justify-content:flex-start;min-width:70px}.main__editor-input{font-family:Roboto,sans-serif;font-size:16px;font-weight:400;font-style:normal;line-height:24px;color:#1c1b1f;letter-spacing:.5px;background:#f4f6f9;border:none;border-radius:4px;outline:unset}.main__editor-input:focus{background:rgba(173,173,180,.62)}.main__input-code{font-family:Roboto,sans-serif;font-size:16px;font-weight:400;font-style:normal;line-height:24px;color:#74767a;text-transform:uppercase;letter-spacing:.5px}.main__daypicker-wrapper{display:flex;justify-content:center;width:311px;background:#f4f6f9;border:1px solid gainsboro;border-radius:4px}.mat-mdc-form-field{height:56px}.mat-mdc-form-field-subscript-wrapper{display:none}.mdc-line-ripple:before{display:none}.mat-mdc-form-field-infix{margin-top:10px}mat-date-range-input{margin-top:14px;font-family:Roboto,sans-serif;font-size:16px;font-weight:400;font-style:normal;line-height:24px;color:#1c1b1f;letter-spacing:.5px}.mdc-floating-label{font-family:Roboto,sans-serif;font-size:12px;font-weight:400;font-style:normal;line-height:16px;color:#49454f;letter-spacing:.4px}.mat-accordion.main__passenger-editor{box-sizing:border-box;width:201px;height:56px;padding:8px 0;background:#f4f6f9;border:1px solid gainsboro;border-radius:4px}.mat-accordion.main__passenger-editor .mat-content{display:flex;flex-direction:column;height:48px}.mat-accordion.main__passenger-editor .mat-content .mat-expansion-panel-header-title{font-family:Roboto,sans-serif;font-size:12px;font-weight:400;font-style:normal;line-height:16px;color:#49454f;letter-spacing:.4px}.mat-accordion.main__passenger-editor .mat-content .mat-expansion-panel-header-description{overflow:hidden;display:block;height:24px;font-family:Roboto,sans-serif;font-size:16px;font-weight:400;font-style:normal;line-height:24px;color:#1c1b1f;text-overflow:ellipsis;letter-spacing:.5px;white-space:nowrap}.mat-accordion.main__passenger-editor .mat-content .mat-expansion-panel-body{z-index:auto;background-color:#fff}.main__passenger-edit{width:156px;height:56px;background:#fff;border-radius:4px}.main__passenger-option{display:flex;flex-direction:row;align-items:center;justify-content:space-between;height:56px}.main__passenger-label{display:flex;flex-direction:column;justify-content:space-between}.main__passenger-counter{display:flex;flex-direction:row;justify-content:space-between;width:40px;height:24px}.main__passenger-kind{display:flex;align-items:center;font-family:Roboto,sans-serif;font-size:16px;font-weight:400;font-style:normal;line-height:24px;letter-spacing:.5px}.main__passenger-clue{font-family:Roboto,sans-serif;font-size:14px;font-weight:400;font-style:normal;line-height:20px;color:#74767a;letter-spacing:.25px}.main__passenger-minus,.main__passenger-count,.main__passenger-plus{cursor:pointer;-webkit-user-select:none;user-select:none;font-family:Roboto,sans-serif;font-size:14px;font-weight:400;font-style:normal;line-height:16px;color:#11397e}.main__passenger-minus:active,.main__passenger-plus:active{font-size:12px;color:#2d86a8}\n"],encapsulation:3}),n})();function Zt(n,s){1&n&&t._UZ(0,"app-booking-editor"),2&n&&t.Q6J("@showEditor",void 0)}let k=(()=>{class n{constructor(e,i,o){this.observe=e,this.headerChange=i,this.routeInfo=o,this.isEditor=!1}ngAfterViewInit(){this.observe.showButtonEditor(this.routeInfo.snapshot.data.btnEditor)}ngOnInit(){this.routeInfo.data.subscribe(e=>{this.headerChange.changePage(e.headerView)}).unsubscribe(),this.observeForEditBtn=this.observe.emit.subscribe(()=>{this.isEditor=!this.isEditor})}ngOnDestroy(){this.observeForEditBtn&&this.observeForEditBtn.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(J),t.Y36(Ct.S),t.Y36(_.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-booking-page"]],decls:6,vars:1,consts:[[1,"header__steps-block"],[1,"main__booking-editor"],[4,"ngIf"],[1,"step"],["name","booking"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-booking-edit"),t.TgZ(2,"div",1),t.YNc(3,Zt,1,1,"app-booking-editor",2),t.qZA(),t.TgZ(4,"div",3),t._UZ(5,"router-outlet",4),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("ngIf",i.isEditor))},dependencies:[l.O5,_.lC,Ot,Mt],styles:[".header__steps-block[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 185px);padding-top:88px;background-color:#fafafa}.main__booking-editor[_ngcontent-%COMP%]{position:relative;width:100%;height:40px}.step[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;margin:0 auto;max-width:1128px}@media screen and (width <= 1150px){.step[_ngcontent-%COMP%]{box-sizing:border-box;width:98%;padding:88px 10px}}"],data:{animation:[(0,m.X$)("showEditor",[(0,m.eR)("void => *",[(0,m.oB)({opacity:0}),(0,m.jt)("0.7s",(0,m.oB)({opacity:1}))]),(0,m.eR)("* => void",[(0,m.jt)("0.7s",(0,m.oB)({opacity:0}))])])]}}),n})();var u=(()=>{return(n=u||(u={})).ADULT="adult",n.CHILD="child",n.INFANT="infant",u;var n})(),z=c(153),Tt=c(7183),j=c(4144),kt=c(455);function At(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",18),t.NdJ("mouseenter",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showMsg=!0)})("mouseleave",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showMsg=!1)}),t._uU(1,"info"),t.qZA()}}function St(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",19),t.NdJ("mouseenter",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showMsg=!0)})("mouseleave",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showMsg=!1)}),t._uU(1,"error"),t.qZA()}}function It(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter name "),t.qZA())}function Ft(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Only letters "),t.qZA())}function qt(n,s){1&n&&(t.TgZ(0,"div",20),t._uU(1," Add the passenger's name as it is written on their documents (passport or ID). Do not use any accents or special characters. Do not use a nickname. "),t.qZA())}function Ut(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",18),t.NdJ("mouseenter",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showMsg2=!0)})("mouseleave",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showMsg2=!1)}),t._uU(1,"info"),t.qZA()}}function Dt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-icon",19),t.NdJ("mouseenter",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showMsg2=!0)})("mouseleave",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showMsg2=!1)}),t._uU(1,"error"),t.qZA()}}function Nt(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter last name "),t.qZA())}function Et(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Only letters "),t.qZA())}function Jt(n,s){1&n&&(t.TgZ(0,"div",21),t._uU(1," Add the passenger's name as it is written on their documents (passport or ID). Do not use any accents or special characters. Do not use a nickname. "),t.qZA())}function Yt(n,s){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"done"),t.qZA())}function Qt(n,s){1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"done"),t.qZA())}function zt(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter birthdate "),t.qZA())}function jt(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Date is from future "),t.qZA())}let Bt=(()=>{class n{constructor(e){this.store=e,this.passengerInfo=new t.vpe,this.errorEmit=new t.vpe,this.gender="Male",this.showMsg=!1,this.showMsg2=!1,this.needHelp=!1}ngOnInit(){this.form=new a.cw({firstName:new a.NI("",[a.kI.required,a.kI.pattern(/^[A-Za-z\s]*$/)]),lastName:new a.NI("",[a.kI.required,a.kI.pattern(/^[A-Za-z\s]*$/)]),birthDate:new a.NI("",[a.kI.required,(0,Tt.x)()])}),this.checkStore(),this.format$=this.store.select(Q.Ox),this.subscription=this.format$.subscribe(e=>{Y.l.display.dateInput=e,this.updateDate()})}ngOnChanges(e){const o=e.isSubmitted.previousValue;e.isSubmitted.currentValue!==o&&void 0!==o&&this.submitForm()}ngOnDestroy(){this.subsription.unsubscribe(),this.subscription.unsubscribe()}updateDate(){const e=this.form.get("birthDate").value;null!==e&&this.form.get("birthDate").setValue(new Date(e))}checkStore(){this.passengers$=this.store.select(x.k),this.subsription=this.passengers$.subscribe(e=>{const i=e.passengers[this.typeOfPassenger].info;i&&(this.form.get("firstName").setValue(i[this.id].firstName),this.form.get("lastName").setValue(i[this.id].lastName),this.form.controls.birthDate.setValue(new Date(i[this.id].birthDate)),this.gender=i[this.id].gender)})}submitForm(){if(this.form.markAllAsTouched(),this.form.invalid)this.errorEmit.emit({id:this.id,type:this.typeOfPassenger,error:!0});else{const e={firstName:this.replaceFirstLetterToUpperCase(this.form.controls.firstName.value),lastName:this.replaceFirstLetterToUpperCase(this.form.controls.lastName.value),birthDate:new Date(this.form.controls.birthDate.value).toLocaleDateString(),gender:this.gender,needHelp:this.needHelp};this.passengerInfo.emit({type:this.typeOfPassenger,info:e}),this.errorEmit.emit({id:this.id,type:this.typeOfPassenger,error:!1})}}replaceFirstLetterToUpperCase(e){return e[0].toUpperCase()+e.slice(1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-passenger-form"]],inputs:{isSubmitted:"isSubmitted",id:"id",typeOfPassenger:"typeOfPassenger"},outputs:{passengerInfo:"passengerInfo",errorEmit:"errorEmit"},features:[t.TTD],decls:47,vars:17,consts:[[1,"wrapper-pas"],["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","matInput","","formControlName","firstName","placeholder","Your name"],["matSuffix","",3,"mouseenter","mouseleave",4,"ngIf"],["matSuffix","","color","warn",3,"mouseenter","mouseleave",4,"ngIf"],[4,"ngIf"],["class","clue",4,"ngIf"],["type","text","matInput","","formControlName","lastName","placeholder","Your last name"],["class","clue2",4,"ngIf"],[1,"form-group__gender"],[1,"form-group__gender_cont"],["mat-raised-button","","type","button",3,"click"],[1,"sign-in__btn"],["matInput","","formControlName","birthDate","placeholder","Date of birth*",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["color","primary",3,"change"],["matSuffix","",3,"mouseenter","mouseleave"],["matSuffix","","color","warn",3,"mouseenter","mouseleave"],[1,"clue"],[1,"clue2"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return i.submitForm()}),t.TgZ(2,"div",2)(3,"mat-form-field")(4,"mat-label"),t._uU(5,"First name"),t.qZA(),t._UZ(6,"input",3),t.YNc(7,At,2,0,"mat-icon",4),t.YNc(8,St,2,0,"mat-icon",5),t.YNc(9,It,2,0,"mat-error",6),t.YNc(10,Ft,2,0,"mat-error",6),t.qZA(),t.YNc(11,qt,2,0,"div",7),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Last name"),t.qZA(),t._UZ(15,"input",8),t.YNc(16,Ut,2,0,"mat-icon",4),t.YNc(17,Dt,2,0,"mat-icon",5),t.YNc(18,Nt,2,0,"mat-error",6),t.YNc(19,Et,2,0,"mat-error",6),t.qZA(),t.YNc(20,Jt,2,0,"div",9),t.TgZ(21,"div",10)(22,"div",11)(23,"button",12),t.NdJ("click",function(){return i.gender="Male"}),t.TgZ(24,"div",13),t.YNc(25,Yt,2,0,"mat-icon",6),t.TgZ(26,"p"),t._uU(27,"Male"),t.qZA()()()(),t.TgZ(28,"div",11)(29,"button",12),t.NdJ("click",function(){return i.gender="Female"}),t.TgZ(30,"div",13),t.YNc(31,Qt,2,0,"mat-icon",6),t.TgZ(32,"p"),t._uU(33,"Female"),t.qZA()()()()(),t.TgZ(34,"mat-form-field")(35,"mat-label"),t._uU(36,"Birth date"),t.qZA(),t._UZ(37,"input",14)(38,"mat-datepicker-toggle",15)(39,"mat-datepicker",null,16),t.YNc(41,zt,2,0,"mat-error",6),t.YNc(42,jt,2,0,"mat-error",6),t.qZA()(),t.TgZ(43,"mat-slide-toggle",17),t.NdJ("change",function(){return i.needHelp=!i.needHelp}),t.TgZ(44,"mat-icon"),t._uU(45,"accessible"),t.qZA(),t._uU(46," Need special assistance?"),t.qZA()()()),2&e){const o=t.MAs(40);t.xp6(1),t.Q6J("formGroup",i.form),t.xp6(6),t.Q6J("ngIf",!(i.isSubmitted&&null!=i.form.controls.firstName.errors&&i.form.controls.firstName.errors.required)),t.xp6(1),t.Q6J("ngIf",(null==i.form.controls.firstName.errors?null:i.form.controls.firstName.errors.required)&&i.isSubmitted),t.xp6(1),t.Q6J("ngIf",null==i.form.controls.firstName.errors?null:i.form.controls.firstName.errors.required),t.xp6(1),t.Q6J("ngIf",null==i.form.controls.firstName.errors?null:i.form.controls.firstName.errors.pattern),t.xp6(1),t.Q6J("ngIf",i.showMsg),t.xp6(5),t.Q6J("ngIf",!(i.isSubmitted&&null!=i.form.controls.lastName.errors&&i.form.controls.lastName.errors.required)),t.xp6(1),t.Q6J("ngIf",(null==i.form.controls.lastName.errors?null:i.form.controls.lastName.errors.required)&&i.isSubmitted),t.xp6(1),t.Q6J("ngIf",null==i.form.controls.lastName.errors?null:i.form.controls.lastName.errors.required),t.xp6(1),t.Q6J("ngIf",null==i.form.controls.lastName.errors?null:i.form.controls.lastName.errors.pattern),t.xp6(1),t.Q6J("ngIf",i.showMsg2),t.xp6(5),t.Q6J("ngIf","Male"===i.gender),t.xp6(6),t.Q6J("ngIf","Male"!==i.gender),t.xp6(6),t.Q6J("matDatepicker",o),t.xp6(1),t.Q6J("for",o),t.xp6(3),t.Q6J("ngIf",null==i.form.controls.birthDate.errors?null:i.form.controls.birthDate.errors.required),t.xp6(1),t.Q6J("ngIf",null==i.form.controls.birthDate.errors?null:i.form.controls.birthDate.errors.dateValid)}},dependencies:[l.O5,a._Y,a.Fj,a.JJ,a.JL,P.Hw,M.lW,a.sg,a.u,j.Nt,g.KE,g.hX,g.TO,g.R9,f.Mq,f.hl,f.nW,kt.Rr],styles:['.form-group[_ngcontent-%COMP%]{position:relative;display:flex;gap:20px;padding-bottom:20px}.form-group__gender[_ngcontent-%COMP%]{display:flex;align-items:stretch;width:215px;height:58px}.form-group__gender[_ngcontent-%COMP%]   .mat-mdc-raised-button[_ngcontent-%COMP%]{height:100%}.form-group__gender_cont[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:stretch;width:50%;border:1px solid gray}.form-group__gender_cont[_ngcontent-%COMP%]:first-child{border-right:none;border-top-left-radius:4px;border-bottom-left-radius:4px}.form-group__gender_cont[_ngcontent-%COMP%]:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px}@media screen and (width <= 774px){.form-group[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:space-between}}.sign-in[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;margin-top:20px}.sign-in__btn[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.sign-in__btn[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:3px 0 0;padding:0}.sign-in_text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;text-align:center}.sign-in_text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:max-content}.sign-in_text[_ngcontent-%COMP%]:before, .sign-in_text[_ngcontent-%COMP%]:after{content:"";width:30%;height:1px;background-color:#00000027}.mat-mdc-form-field[_ngcontent-%COMP%]{margin-bottom:-14px}.clue[_ngcontent-%COMP%]{position:absolute;z-index:100;top:50%;right:50%;transform:translateY(-50%);width:200px;padding:10px;background-color:#fff}.clue2[_ngcontent-%COMP%]{position:absolute;z-index:100;top:50%;right:25%;transform:translateY(-50%);width:200px;padding:10px;background-color:#fff}.wrapper-pas[_ngcontent-%COMP%]{width:100%;padding:5px}']}),n})();var Lt=c(2086),$t=c(4385),Ht=c(3238);function Rt(n,s){if(1&n&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.code),t.xp6(1),t.AsE(" ",e.name,"(",e.code,") ")}}function Gt(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter phone "),t.qZA())}function Kt(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter email "),t.qZA())}function Vt(n,s){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Email is invalid "),t.qZA())}let Xt=(()=>{class n{constructor(e){this.store=e,this.contactInfo=new t.vpe,this.errorEmit=new t.vpe,this.countries=Lt.o}ngOnInit(){this.form=new a.cw({countryCode:new a.NI(""),mobile:new a.NI("",[a.kI.required]),email:new a.NI("",[a.kI.required,a.kI.email])})}ngAfterContentInit(){this.checkStore()}ngOnChanges(e){const o=e.isSubmitted.previousValue;e.isSubmitted.currentValue!==o&&void 0!==o&&this.submitForm()}checkStore(){this.passengers$=this.store.select(x.k),this.subsription=this.passengers$.subscribe(e=>{if(e.contactDetails){this.form.controls.email.setValue(e.contactDetails.email);const i=this.countries.find(o=>e.contactDetails.code===o.code);this.form.get("countryCode").setValue(i.code,{emitEvent:!0}),this.form.controls.mobile.setValue(e.contactDetails.mobile)}})}submitForm(){this.form.markAllAsTouched(),this.form.invalid?this.errorEmit.emit({id:1,type:"Contacts",error:!0}):(this.contactInfo.emit({email:this.form.controls.email.value,code:this.form.controls.countryCode.value,mobile:this.form.controls.mobile.value}),this.errorEmit.emit({id:1,type:"Contacts",error:!1}),this.subsription.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-contacts-form"]],inputs:{isSubmitted:"isSubmitted"},outputs:{contactInfo:"contactInfo",errorEmit:"errorEmit"},features:[t.TTD],decls:21,vars:5,consts:[["novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-group__mobile"],[1,"form-group__mobile_cont"],["appearance","fill"],["placeholder","Code","formControlName","countryCode"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","number","formControlName","mobile","placeholder","e.g 1234567"],[4,"ngIf"],[2,"width","50%"],["type","email","matInput","","formControlName","email","placeholder","example@gmail.com"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.submitForm()}),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),t._uU(6,"Country code"),t.qZA(),t.TgZ(7,"mat-select",5),t.YNc(8,Rt,2,3,"mat-option",6),t.qZA()()(),t.TgZ(9,"div",3)(10,"mat-form-field")(11,"mat-label"),t._uU(12,"Mobile phone number*"),t.qZA(),t._UZ(13,"input",7),t.YNc(14,Gt,2,0,"mat-error",8),t.qZA()()(),t.TgZ(15,"mat-form-field",9)(16,"mat-label"),t._uU(17,"Email"),t.qZA(),t._UZ(18,"input",10),t.YNc(19,Kt,2,0,"mat-error",8),t.YNc(20,Vt,2,0,"mat-error",8),t.qZA()()()),2&e&&(t.Q6J("formGroup",i.form),t.xp6(8),t.Q6J("ngForOf",i.countries),t.xp6(6),t.Q6J("ngIf",null==i.form.controls.mobile.errors?null:i.form.controls.mobile.errors.required),t.xp6(5),t.Q6J("ngIf",null==i.form.controls.email.errors?null:i.form.controls.email.errors.required),t.xp6(1),t.Q6J("ngIf",null==i.form.controls.email.errors?null:i.form.controls.email.errors.email))},dependencies:[l.sg,l.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u,j.Nt,g.KE,g.hX,g.TO,$t.gD,Ht.ey],styles:[".form-group[_ngcontent-%COMP%]{display:flex;gap:20px;width:100%;padding:5px}.form-group__mobile[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:space-between;width:50%;min-width:430px}.form-group__mobile_cont[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;width:49%}@media screen and (width <= 480px){.form-group__mobile_cont[_ngcontent-%COMP%]{width:100%}}@media screen and (width <= 534px){.form-group__mobile[_ngcontent-%COMP%]{flex-direction:column}}@media screen and (width <= 534px) and (width <= 480px){.form-group__mobile[_ngcontent-%COMP%]{width:90%;min-width:unset}}@media screen and (width <= 910px){.form-group[_ngcontent-%COMP%]{flex-wrap:wrap}}"]}),n})();function Wt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-passenger-form",16),t.NdJ("errorEmit",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.getError(o))})("passengerInfo",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.getPassengerInfo(o))}),t.qZA()}if(2&n){const e=s.index,i=t.oxw(2);t.Q6J("typeOfPassenger",i.type.ADULT)("isSubmitted",i.isSubmitted)("id",e)}}const A=function(){return[]};function te(n,s){if(1&n&&(t.TgZ(0,"div",13)(1,"p",14),t._uU(2,"1.Adults"),t.qZA(),t.YNc(3,Wt,1,3,"app-passenger-form",15),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.DdM(1,A).constructor(null==e.passengers||null==e.passengers.passengers||null==e.passengers.passengers.adult?null:e.passengers.passengers.adult.count))}}function ee(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-passenger-form",16),t.NdJ("errorEmit",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.getError(o))})("passengerInfo",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.getPassengerInfo(o))}),t.qZA()}if(2&n){const e=s.index,i=t.oxw(2);t.Q6J("typeOfPassenger",i.type.CHILD)("isSubmitted",i.isSubmitted)("id",e)}}function ne(n,s){if(1&n&&(t.TgZ(0,"div",13)(1,"p",14),t._uU(2,"2.Childs"),t.qZA(),t.YNc(3,ee,1,3,"app-passenger-form",15),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.DdM(1,A).constructor(null==e.passengers||null==e.passengers.passengers||null==e.passengers.passengers.child?null:e.passengers.passengers.child.count))}}function ie(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-passenger-form",16),t.NdJ("errorEmit",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.getError(o))})("passengerInfo",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.getPassengerInfo(o))}),t.qZA()}if(2&n){const e=s.index,i=t.oxw(2);t.Q6J("typeOfPassenger",i.type.INFANT)("isSubmitted",i.isSubmitted)("id",e)}}function oe(n,s){if(1&n&&(t.TgZ(0,"div",13)(1,"p",14),t._uU(2,"3.Infants"),t.qZA(),t.TgZ(3,"p"),t.YNc(4,ie,1,3,"app-passenger-form",15),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",t.DdM(1,A).constructor(null==e.passengers||null==e.passengers.passengers||null==e.passengers.passengers.infant?null:e.passengers.passengers.infant.count))}}let se=(()=>{class n{constructor(e,i,o){this.store=e,this.router=i,this.stepperSwitcher=o,this.type=u,this.isSubmitted=!1,this.adultInfo=[],this.childInfo=[],this.infantInfo=[],this.errors={},this.allChecksPass=!1}ngOnInit(){this.stepperSwitcher.switchStepper("second"),this.passengers$=this.store.select(x.k),this.subscription=this.passengers$.subscribe(e=>{this.passengers=e})}back(e){e?this.router.navigateByUrl("step/1"):(this.isSubmitted=!this.isSubmitted,setTimeout(()=>{this.allChecksPass&&(this.addPassengerInfoToStore(),this.router.navigateByUrl("step/3"))},300))}getError(e){this.errors[e.type+e.id]=e.error,this.checkErrors()&&(this.allChecksPass=!0)}getContactInfo(e){this.passengers&&(this.newPassenger={...this.passengers,contactDetails:e})}getPassengerInfo(e){switch(e.type){case u.ADULT:this.adultInfo.push(e.info);break;case u.CHILD:this.childInfo.push(e.info);break;case u.INFANT:this.infantInfo.push(e.info)}}checkErrors(){let e=!0;return Object.keys(this.errors).forEach(o=>{!0===this.errors[o]&&(e=!1)}),e}addPassengerInfoToStore(){if(this.newPassenger){const e={...this.newPassenger,passengers:{...this.newPassenger.passengers,adult:{...this.newPassenger.passengers.adult,info:this.adultInfo},child:{...this.newPassenger.passengers.child,info:this.childInfo},infant:{...this.newPassenger.passengers.infant,info:this.infantInfo}}};this.store.dispatch(z.mG({passengers:e}))}}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.yh),t.Y36(_.F0),t.Y36(O.M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-second-step"]],decls:30,vars:4,consts:[[1,"container"],[1,"wrap"],[1,"header"],[1,"header__title"],[1,"header__title_icon"],[1,"header__text"],[1,"forms"],["class","forms__passenger",4,"ngIf"],[1,"forms__contact"],[3,"isSubmitted","errorEmit","contactInfo"],[1,"btn-block"],["mat-flat-button","",1,"back-btn",3,"click"],["mat-button","","type","button",3,"click"],[1,"forms__passenger"],[1,"forms__title"],[3,"typeOfPassenger","isSubmitted","id","errorEmit","passengerInfo",4,"ngFor","ngForOf"],[3,"typeOfPassenger","isSubmitted","id","errorEmit","passengerInfo"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),t._uU(5,"perm_identity"),t.qZA(),t.TgZ(6,"h2"),t._uU(7,"Passengers"),t.qZA()(),t.TgZ(8,"p",5),t._uU(9,"Enter the passenger's names as they appear on document (passport or ID). "),t.qZA()(),t.TgZ(10,"div",6),t.YNc(11,te,4,2,"div",7),t.YNc(12,ne,4,2,"div",7),t.YNc(13,oe,5,2,"div",7),t.qZA(),t.TgZ(14,"div",2)(15,"div",3)(16,"mat-icon",4),t._uU(17,"contact_page"),t.qZA(),t.TgZ(18,"h2"),t._uU(19,"Contact details"),t.qZA()(),t.TgZ(20,"p",5),t._uU(21,"We need contact details to be able to deliver the latest information regarding your flight. "),t.qZA()(),t.TgZ(22,"div",6)(23,"div",8)(24,"app-contacts-form",9),t.NdJ("errorEmit",function(r){return i.getError(r)})("contactInfo",function(r){return i.getContactInfo(r)}),t.qZA()()(),t.TgZ(25,"div",10)(26,"button",11),t.NdJ("click",function(){return i.back(!0)}),t._uU(27,"Back"),t.qZA(),t.TgZ(28,"button",12),t.NdJ("click",function(){return i.back(!1)}),t._uU(29,"Continue"),t.qZA()()()()),2&e&&(t.xp6(11),t.Q6J("ngIf",0!==(null==i.passengers||null==i.passengers.passengers||null==i.passengers.passengers.adult?null:i.passengers.passengers.adult.count)),t.xp6(1),t.Q6J("ngIf",0!==(null==i.passengers||null==i.passengers.passengers||null==i.passengers.passengers.child?null:i.passengers.passengers.child.count)),t.xp6(1),t.Q6J("ngIf",0!==(null==i.passengers||null==i.passengers.passengers||null==i.passengers.passengers.infant?null:i.passengers.passengers.infant.count)),t.xp6(11),t.Q6J("isSubmitted",i.isSubmitted))},dependencies:[l.sg,l.O5,P.Hw,M.lW,Bt,Xt],styles:[".wrap[_ngcontent-%COMP%]{width:100%;padding-bottom:30px}.header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:left}.header__title[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.header__title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Roboto;font-size:24px;font-weight:700;line-height:28px;color:#11397e}.header__text[_ngcontent-%COMP%]{font-family:Roboto;font-size:16px;font-weight:400;font-style:normal;line-height:24px;color:#49454f}.forms__passenger[_ngcontent-%COMP%]{background-color:#fff;padding:20px 30px;margin-bottom:20px;border-radius:4px;box-shadow:0 1px 4px #0003}.forms__contact[_ngcontent-%COMP%]{background-color:#fff;padding:20px 30px 10px;margin-bottom:20px}.forms__title[_ngcontent-%COMP%]{font-family:Roboto;font-size:24px;font-weight:700;font-style:normal;line-height:28px;color:#11397e}.btn-block[_ngcontent-%COMP%]{display:flex;flex-direction:row;column-gap:40px;justify-content:flex-end;margin-bottom:40px}.mdc-button[_ngcontent-%COMP%]{width:126px;height:60px;font-size:16px;font-weight:500;color:#fff;background-color:var(--app-root-blue)}.mat-mdc-unelevated-button[_ngcontent-%COMP%]:not(:disabled){color:var(--app-root-blue);background-color:transparent}"]}),n})();function re(n,s){if(1&n&&(t.TgZ(0,"span",4),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.seatPlace)}}let S=(()=>{class n{constructor(){this.seatPlace="",this.isSeat=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-passenger-info"]],decls:8,vars:3,consts:[[1,"main__passenger-name"],[1,"main__passenger-summary"],[1,"main__baggage"],["class","main__seat-place",4,"ngIf"],[1,"main__seat-place"]],template:function(e,i){1&e&&(t.TgZ(0,"span",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1)(3,"span",2),t._uU(4,"1 checked bag (total 23 kg) included"),t.qZA(),t.TgZ(5,"span",2),t._uU(6,"1 cabin bag + 1 personal item (max. 8 kg) included"),t.qZA(),t.YNc(7,re,2,1,"span",3),t.qZA()),2&e&&(t.xp6(1),t.AsE("",i.passengerData.firstName," ",i.passengerData.lastName,""),t.xp6(6),t.Q6J("ngIf",i.isSeat))},dependencies:[l.O5],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:12px;box-sizing:border-box;width:100%;padding:20px 16px 20px 24px}.main__passenger-summary[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;align-self:flex-start;justify-content:flex-start;box-sizing:border-box;width:100%;padding-left:28px}.main__passenger-name[_ngcontent-%COMP%]{align-self:flex-start;text-transform:uppercase}.main__passenger-name[_ngcontent-%COMP%], .main__baggage[_ngcontent-%COMP%], .main__seat-place[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;font-weight:400;font-style:normal;line-height:24px;color:#000;letter-spacing:.5px}"]}),n})();const ae=["passengersContainer"];let B=(()=>{class n{ngOnInit(){this.addPassengerData()}addPassengerData(){this.passengers&&(this.passengers.passengers.adult.info?.forEach(e=>{this.container.createComponent(S).instance.passengerData=e}),this.passengers.passengers.child.info?.forEach(e=>{this.container.createComponent(S).instance.passengerData=e}),this.passengers.passengers.infant.info?.forEach(e=>{this.container.createComponent(S).instance.passengerData=e}))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ticket-info"]],viewQuery:function(e,i){if(1&e&&t.Gf(ae,7,t.s_b),2&e){let o;t.iGM(o=t.CRH())&&(i.container=o.first)}},decls:15,vars:11,consts:[[1,"main__ticket-flight"],[1,"main__flight"],[1,"main__flight-number"],[1,"main__flight-info"],[1,"main__flight-data"],[1,"main__flight-date"],[1,"main__flight-time"],["passengersContainer",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3),t.qZA(),t.TgZ(4,"span",3),t._uU(5),t.qZA()(),t.TgZ(6,"div",4)(7,"span",5),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"span",6),t._uU(11),t.ALo(12,"date"),t.qZA()()(),t.GkF(13,null,7)),2&e&&(t.xp6(3),t.Oqu(i.flight.flightNumber),t.xp6(2),t.AsE(" ",i.flight.form.city," - ",i.flight.to.city," "),t.xp6(3),t.Oqu(t.xi3(9,5,i.flight.takeoffDate,"EE, d MMM yyyy")),t.xp6(3),t.Oqu(t.xi3(12,8,i.flight.takeoffDate,"HH:mm")))},dependencies:[l.uU],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:50%;max-width:552px;background:#fff;border-radius:8px}@media screen and (width <= 674px){[_nghost-%COMP%]{width:90%}}.main__ticket-flight[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;justify-content:flex-start;box-sizing:border-box;max-width:100%;min-height:100px;padding:22px 24px;background:#f1f3f6;border-top:3px solid #11397e;border-radius:8px 8px 0 0}.main__flight[_ngcontent-%COMP%], .main__flight-data[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start}.main__flight[_ngcontent-%COMP%]{gap:20px}.main__flight-data[_ngcontent-%COMP%]{gap:36px}.main__flight-number[_ngcontent-%COMP%], .main__flight-info[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:20px;font-weight:700;font-style:normal;line-height:24px;letter-spacing:.5px}.main__flight-number[_ngcontent-%COMP%]{color:#11397e}.main__flight-info[_ngcontent-%COMP%]{color:#000}.main__flight-date[_ngcontent-%COMP%], .main__flight-time[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;font-weight:400;font-style:normal;line-height:24px;color:#000;letter-spacing:.5px}"]}),n})();function ce(n,s){if(1&n&&(t.TgZ(0,"div",5)(1,"div",6)(2,"span",7),t._uU(3),t.qZA(),t._UZ(4,"span",8),t.qZA(),t.TgZ(5,"div",6)(6,"span",7),t._uU(7,"Fare"),t.qZA(),t._UZ(8,"span",8),t.qZA(),t.TgZ(9,"div",6)(10,"span",7),t._uU(11,"Tax & Service Charge"),t.qZA(),t._UZ(12,"span",8),t.qZA()()),2&n){const e=s.$implicit,i=s.index,o=t.oxw();t.xp6(3),t.AsE("",e.count," x ",o.titlesArray[i],""),t.xp6(1),t.Q6J("appCurrency",e.total),t.xp6(4),t.Q6J("appCurrency",e.fare),t.xp6(4),t.Q6J("appCurrency",e.tax)}}let le=(()=>{class n{constructor(){this.CHILD_DISCOUNT=25,this.INFANT_DISCOUNT=75,this.TAX=35,this.resultArray=[],this.titlesArray=["Adult Fare","Child Fare","Infant Fare"]}ngOnInit(){this.initSummaryData(),this.totalCost=this.getTotalCost()}initSummaryData(){this.passengers.passengers.adult.count&&this.initPassengerPrice(this.passengers.passengers.adult,100),this.passengers.passengers.child.count&&this.initPassengerPrice(this.passengers.passengers.child,this.CHILD_DISCOUNT),this.passengers.passengers.infant.count&&this.initPassengerPrice(this.passengers.passengers.infant,this.INFANT_DISCOUNT)}initPassengerPrice(e,i){const o=this.getInitObj();o.count=e.count,Object.keys(this.cost).forEach(r=>{o.total[r]=this.cost[r]*(i/100)*o.count,o.tax[r]=o.total[r]/100*this.TAX,o.fare[r]=o.total[r]-o.tax[r]}),this.resultArray.push(o)}getTotalCost(){const e={eur:0,usd:0,rub:0,pln:0};return this.resultArray.forEach(i=>{Object.keys(i.total).forEach(o=>{e[o]+=i.total[o]})}),e}getInitObj(){return{count:0,fare:{eur:0,usd:0,rub:0,pln:0},tax:{eur:0,usd:0,rub:0,pln:0},total:{eur:0,usd:0,rub:0,pln:0}}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-summary"]],decls:6,vars:2,consts:[[1,"main__summary-list"],["class","main__summary-item",4,"ngFor","ngForOf"],[1,"main__summary-total"],[1,"main__total-text"],[1,"main__total-price",3,"appCurrency"],[1,"main__summary-item"],[1,"main__summary-string"],[1,"main__summary-text"],[1,"main__summary-count",3,"appCurrency"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,ce,13,5,"div",1),t.qZA(),t.TgZ(2,"div",2)(3,"span",3),t._uU(4,"TOTAL:"),t.qZA(),t._UZ(5,"span",4),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",i.resultArray),t.xp6(4),t.Q6J("appCurrency",i.totalCost))},dependencies:[l.sg,Z.S],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:16px;width:50%;max-width:552px;background:#fff;border:1px solid #e1e5eb;border-radius:8px;box-shadow:0 1px 4px #0003}@media screen and (width <= 674px){[_nghost-%COMP%]{width:90%}}.main__summary-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;justify-content:flex-start;box-sizing:content-box;padding:24px 72px 0 40px}.main__summary-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;justify-content:flex-start;width:100%}.main__summary-string[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.main__summary-text[_ngcontent-%COMP%], .main__summary-count[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;font-style:normal;line-height:24px;color:#000;letter-spacing:.5px}.main__summary-string[_ngcontent-%COMP%]:nth-child(1){font-weight:700}.main__summary-string[_ngcontent-%COMP%]:nth-child(2), .main__summary-string[_ngcontent-%COMP%]:nth-child(3){margin-left:40px;font-weight:400}.main__summary-total[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;box-sizing:content-box;padding:20px 72px 20px 40px;border-color:#e1e5eb;border-style:solid;border-width:1px 0}.main__total-text[_ngcontent-%COMP%], .main__total-price[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:20px;font-weight:700;font-style:normal;line-height:24px;color:#000;letter-spacing:.5px}.main__total-price[_ngcontent-%COMP%]{color:#11397e}"]}),n})();var pe=c(5630),de=c(4934);const ge=["container"],me=["summary"];let fe=(()=>{class n{constructor(e,i,o){this.store=e,this.stepperSwitcher=i,this.router=o}ngOnInit(){this.stepperSwitcher.switchStepper("third"),this.flights$=this.store.select(U),this.passengers$=this.store.select(x.k),this.passengerSubscription=this.passengers$.subscribe(e=>{this.passengers=e}),this.initFlight()}ngOnDestroy(){this.subscription.unsubscribe(),this.passengerSubscription.unsubscribe()}initFlight(){this.subscription=this.flights$.subscribe(e=>{const i=this.container.createComponent(B);if(this.directFlight=e.direct,i.instance.flight=this.directFlight,i.instance.passengers=this.passengers,this.reverseFlight=e.reverse,this.reverseFlight){const d=this.container.createComponent(B);d.instance.flight=this.reverseFlight,d.instance.passengers=this.passengers}const o=this.summary.createComponent(le);o.instance.passengers=this.passengers;const r=e.direct.price;o.instance.cost=null!==e.reverse?this.getFlightCost(r,e.reverse.price):this.getFlightCost(r),this.summaryInstance=o.instance})}getFlightCost(...e){return e.reduce((i,o)=>(Object.keys(o).forEach(r=>{i[r]+=o[r]}),i),{eur:0,usd:0,rub:0,pln:0})}addFlightToCart(){this.store.dispatch(de.Fk({flights:{flight:{forward:this.directFlight,reverse:this.reverseFlight},totalCost:this.summaryInstance.totalCost,passengers:this.passengers}}))}clearSelected(){this.store.dispatch(h.YF())}clearPassengers(){this.store.dispatch(z.YF())}clearFlights(){this.store.dispatch(pe.YF())}addToCart(){this.addFlightToCart(),setTimeout(()=>{this.clearPassengers(),this.clearSelected(),this.clearFlights()},300),this.router.navigateByUrl("/")}buy(){this.addFlightToCart(),this.router.navigateByUrl("/cart")}back(){this.router.navigateByUrl("step/2")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.yh),t.Y36(O.M),t.Y36(_.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-summary-page"]],viewQuery:function(e,i){if(1&e&&(t.Gf(ge,7,t.s_b),t.Gf(me,7,t.s_b)),2&e){let o;t.iGM(o=t.CRH())&&(i.container=o.first),t.iGM(o=t.CRH())&&(i.summary=o.first)}},decls:23,vars:0,consts:[[1,"main__summary-wrapper"],[1,"main__summary-title"],[1,"main__summary-image"],["ngSrc","./assets/summary.svg","alt","","height","24","width","24",1,"main__summary-icon"],[1,"main__summary-text"],[1,"main__summary-tickets"],["container",""],[1,"main__summary-amount"],["summary",""],[1,"main__summary-control"],[1,"main__control-wrapper"],[1,"main__back-wrapper"],[1,"main__control-back",3,"click"],[1,"main__add-card"],[1,"main__add-text",3,"click"],[1,"main__buy-now"],[1,"main__buy-text",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"span",4),t._uU(5,"Summary"),t.qZA()(),t.TgZ(6,"div",5),t.GkF(7,null,6),t.qZA(),t.TgZ(9,"div",7),t.GkF(10,null,8),t.qZA(),t.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"span",12),t.NdJ("click",function(){return i.back()}),t._uU(16,"Back"),t.qZA()(),t.TgZ(17,"button",13)(18,"span",14),t.NdJ("click",function(){return i.addToCart()}),t._uU(19,"Add to order cart"),t.qZA()(),t.TgZ(20,"button",15)(21,"span",16),t.NdJ("click",function(){return i.buy()}),t._uU(22,"Buy now"),t.qZA()()()()())},dependencies:[l.Zd],styles:["[_nghost-%COMP%]{display:flex;align-items:flex-start;justify-content:center;width:100%;min-height:1160px;background-color:#fafafa}.main__summary-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:1128px}.main__summary-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:12px;align-items:center;align-self:flex-start;justify-content:flex-start}@media screen and (width <= 674px){.main__summary-title[_ngcontent-%COMP%]{justify-content:center;width:100%}}.main__summary-image[_ngcontent-%COMP%]{width:24px;height:24px}.main__summary-icon[_ngcontent-%COMP%]{width:100%;height:100%}.main__summary-text[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:24px;font-weight:700;font-style:normal;line-height:28px;color:#11397e}.main__summary-tickets[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:24px;justify-content:flex-start;width:100%;margin-top:20px}@media screen and (width <= 674px){.main__summary-tickets[_ngcontent-%COMP%]{justify-content:center}}.main__summary-amount[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:30px}@media screen and (width <= 674px){.main__summary-amount[_ngcontent-%COMP%]{justify-content:center}}.main__summary-control[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:40px}.main__control-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:50%;max-width:503px;min-height:60px}@media screen and (width <= 929px){.main__control-wrapper[_ngcontent-%COMP%]{width:70%}}@media screen and (width <= 660px){.main__control-wrapper[_ngcontent-%COMP%]{justify-content:space-around;width:100%}}@media screen and (width <= 660px){.main__control-wrapper[_ngcontent-%COMP%]{flex-direction:column;gap:20px;align-items:center;justify-content:center;width:100%}}.main__back-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:126px;height:60px}.main__control-back[_ngcontent-%COMP%]{cursor:pointer;font-family:Roboto,sans-serif;font-size:16px;font-weight:500;font-style:normal;line-height:20px;color:#11397e;letter-spacing:.1px}.main__add-card[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-direction:row;align-items:center;justify-content:center;width:171px;height:60px;border:1px solid #11397e;border-radius:4px}.main__add-text[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;font-weight:500;font-style:normal;line-height:20px;color:#11397e;letter-spacing:.1px}.main__buy-now[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-direction:row;align-items:center;justify-content:center;width:126px;height:60px;background:#11397e;border:none;border-radius:4px}.main__buy-text[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;font-weight:500;font-style:normal;line-height:20px;color:#fff;letter-spacing:.1px}"]}),n})();var I=c(8968),C=c(7162);const _e=[{path:"1",component:k,canActivate:[C.H],data:{headerView:{bgColor:!0,showStepper:!0},btnEditor:!0},children:[{path:"",component:bt,canActivate:[C.H],outlet:"booking"}]},{path:"2",component:k,data:{headerView:{bgColor:!0,showStepper:!0},btnEditor:!1},children:[{path:"",component:se,canActivate:[I.P,C.H],outlet:"booking"}]},{path:"3",component:k,canActivate:[I.P,C.H],data:{headerView:{bgColor:!0,showStepper:!0},btnEditor:!1},children:[{path:"",component:fe,canActivate:[I.P,C.H],outlet:"booking"}]}];let ue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.Bz.forChild(_e),_.Bz]}),n})()}}]);